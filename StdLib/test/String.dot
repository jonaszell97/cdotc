
unittest "static-string-construction" {
    var s = "hello test test"
    assertEqual(s.byteSize, 15, "string size mismatch")
    assertFalse(s.storageIsOwned, "static string should not be owned")
    assert(s.isAscii, "string should be ascii")

    s += "one two three"
    assertEqual(s.byteSize, 28, "string size mismatch")
    assert(s.storageIsOwned, "string should be owned")
    assert(s.isAscii, "string should still be ascii")

    var s2 = s
    assertFalse(s2.storageIsOwned, "string copy should not be owned")
    assertEqual(s2, s, "copied strings should be equal")
}