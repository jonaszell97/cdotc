
module std.rt

/// Implemented in cdotrt
declare C public def _cdot_GetLastModifiedTime(_ fileName: libc.CString) -> libc.long_long

macro define_int_pow_fn{
    ($($name:tok)*) => {
        $(
            @extern(C)
            public def ${_cdot_intpow_ $name}(_ base: $name, _ exp: $name) -> $name {
                var base = base
                var exp = exp
                var result = 1$name
                while exp != 0 {
                    if (exp & 1) != 0 {
                        result *= base
                    }

                    exp >>= 1
                    base *= base
                }

                return result
            }
        )...
    }
}

define_int_pow_fn!{ i1 i8 u8 i16 u16 i32 u32 i64 u64 i128 u128 }